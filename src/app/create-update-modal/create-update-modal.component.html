<div class="modal-overlay" (click)="onOverlayClick($event)">
    <div class="modal-container">
        <div class="modal-header d-flex justify-content-between align-items-center">
            <h2 class="mb-0">{{ item ? 'Update Item' : 'Add Item' }}</h2>
            <button class="btn btn-link close-btn" (click)="close()">
                <i class="fal fa-times"></i>
            </button>
        </div>

        <div class="modal-content">
            <form [formGroup]="inventoryForm" (ngSubmit)="onSubmit()">
                <div class="form-group">
                    <label for="brand_name">Brand Name</label>
                    <input id="brand_name" type="text" class="form-control" formControlName="brand_name"
                        [class.is-invalid]="inventoryForm.get('brand_name')?.errors && inventoryForm.get('brand_name')?.touched">
                    <div *ngIf="inventoryForm.get('brand_name')?.errors?.['required'] && inventoryForm.get('brand_name')?.touched"
                        class="invalid-feedback">
                        Brand name is required
                    </div>
                </div>

                <div class="form-group">
                    <label for="type">Type</label>
                    <input id="type" type="text" class="form-control" formControlName="type"
                        [class.is-invalid]="inventoryForm.get('type')?.errors && inventoryForm.get('type')?.touched">
                    <div *ngIf="inventoryForm.get('type')?.errors?.['required'] && inventoryForm.get('type')?.touched"
                        class="invalid-feedback">
                        Type is required
                    </div>
                </div>

                <div class="form-group">
                    <label for="quantity">Quantity on Hand</label>
                    <input id="quantity" type="number" class="form-control" formControlName="quantity_on_hand"
                        [class.is-invalid]="inventoryForm.get('quantity_on_hand')?.errors && inventoryForm.get('quantity_on_hand')?.touched">
                    <div *ngIf="inventoryForm.get('quantity_on_hand')?.errors?.['required'] && inventoryForm.get('quantity_on_hand')?.touched"
                        class="invalid-feedback">
                        Quantity is required
                    </div>
                </div>

                <div class="form-group">
                    <label for="price">Price</label>
                    <input id="price" type="number" class="form-control" formControlName="price" step="0.01"
                        [class.is-invalid]="inventoryForm.get('price')?.errors && inventoryForm.get('price')?.touched">
                    <div *ngIf="inventoryForm.get('price')?.errors?.['required'] && inventoryForm.get('price')?.touched"
                        class="invalid-feedback">
                        Price is required
                    </div>
                </div>

                <div class="form-group">
                    <label for="products_sold">Products Sold</label>
                    <input id="products_sold" type="number" class="form-control" formControlName="products_sold"
                        [class.is-invalid]="inventoryForm.get('products_sold')?.errors && inventoryForm.get('products_sold')?.touched">
                    <div *ngIf="inventoryForm.get('products_sold')?.errors?.['required'] && inventoryForm.get('products_sold')?.touched"
                        class="invalid-feedback">
                        Products sold is required
                    </div>
                </div>

                <div class="modal-actions">
                    <button type="button" class="btn btn-secondary" (click)="close()">Cancel</button>
                    <button type="submit" class="btn btn-primary" [disabled]="!inventoryForm.valid">{{ item ? 'Update' : 'Add' }}</button>
                </div>
            </form>
        </div>
    </div>
</div>
